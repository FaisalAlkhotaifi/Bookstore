"use strict";(self.webpackChunkbookstore_web=self.webpackChunkbookstore_web||[]).push([[113],{6180:(w,C,l)=>{l.r(C),l.d(C,{CategoryModule:()=>Z});var t=l(9808),h=l(6074),_=l(333),e=l(4893);let u=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-category"]],decls:1,vars:0,template:function(c,f){1&c&&e._UZ(0,"router-outlet")},directives:[h.lC],styles:[""]}),i})();var a=l(2382),d=l(6383),m=l(5667),o=l(5405),r=l(4999);function s(i,g){1&i&&(e.TgZ(0,"th",20),e._uU(1," name "),e.qZA())}function n(i,g){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const c=g.$implicit;e.xp6(1),e.hij(" ",c.name," ")}}function p(i,g){1&i&&(e.TgZ(0,"th",20),e._uU(1," Publish Date "),e.qZA())}function y(i,g){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const c=g.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,c.lastUpdate,"mediumDate")," ")}}function b(i,g){1&i&&e._UZ(0,"tr",22)}function F(i,g){1&i&&e._UZ(0,"tr",23)}function T(i,g){if(1&i&&(e.TgZ(0,"div",12)(1,"mat-table",13),e.ynx(2,14),e.YNc(3,s,2,0,"th",15),e.YNc(4,n,2,1,"td",16),e.BQk(),e.ynx(5,17),e.YNc(6,p,2,0,"th",15),e.YNc(7,y,3,4,"td",16),e.BQk(),e.YNc(8,b,1,0,"tr",18),e.YNc(9,F,1,0,"tr",19),e.qZA()()),2&i){const c=e.oxw();e.xp6(1),e.Q6J("dataSource",c.dataList),e.xp6(7),e.Q6J("matHeaderRowDef",c.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",c.displayedColumns)}}let x=(()=>{class i{constructor(c,f,v){this._bookCategoryService=c,this._router=f,this._activatedRoute=v,this.displayedColumns=["name","lastUpdate"],this.dataList=[],this.searchForm=new a.cw({})}ngOnInit(){this._setDataList(),this._initForm()}onSubmit(){this._setDataList()}clearSearchForm(){this.searchForm.reset(),this._setDataList()}onAddNew(){this._goto(["new"])}_setDataList(){this._bookCategoryService.getAll(this.searchForm.value).then(c=>this.dataList=c)}_initForm(){this.searchForm=new a.cw({name:new a.NI(null)})}_goto(c){this._router.navigate(c,{relativeTo:this._activatedRoute})}}return i.\u0275fac=function(c){return new(c||i)(e.Y36(d.U),e.Y36(h.F0),e.Y36(h.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-category-starter"]],decls:16,vars:2,consts:[[1,"dashboard-content-wrap"],[1,"dashboard-content-header-wrap"],[1,"dashboard-content-header-title"],["title","Add",3,"click"],[1,"form-wrap",3,"formGroup","ngSubmit"],[1,"row","g-4"],[1,"col-lg-6"],["formControlName","name","label","Category Name"],[1,"col-lg-12","search-action-wrap"],["title","search"],["title","clear","type","button",3,"click"],["class","table-container",4,"ngIf"],[1,"table-container"],[3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastUpdate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(c,f){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4,"Categories"),e.qZA()(),e.TgZ(5,"div")(6,"app-button",3),e.NdJ("click",function(){return f.onAddNew()}),e.qZA()()(),e.TgZ(7,"div")(8,"form",4),e.NdJ("ngSubmit",function(){return f.onSubmit()}),e.TgZ(9,"div",5)(10,"div",6),e._UZ(11,"app-text-form-field",7),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"app-button",9),e.TgZ(14,"app-button",10),e.NdJ("click",function(){return f.clearSearchForm()}),e.qZA()()()()(),e.YNc(15,T,10,3,"div",11),e.qZA()),2&c&&(e.xp6(8),e.Q6J("formGroup",f.searchForm),e.xp6(7),e.Q6J("ngIf",f.dataList&&f.dataList.length>0))},directives:[m.r,a._Y,a.JL,a.sg,o.N,a.JJ,a.u,t.O5,r.BZ,r.w1,r.fO,r.ge,r.Dz,r.ev,r.as,r.XQ,r.nj,r.Gk],pipes:[t.uU],styles:[".search-action-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem}"]}),i})();var E=l(7844);const A=[{path:"",component:u,children:[{path:"",component:x},{path:"new",component:(()=>{class i{constructor(c,f,v,S){this._appFormErrorService=c,this._location=f,this._fb=v,this._categoryService=S,this.form=new a.cw({}),this.isLoading=!1}ngOnInit(){this._initForm()}hasError(c){return this._appFormErrorService.hasError(c,this.form)}getControlError(c){return this._appFormErrorService.getControlError(this.form.get(c))}onSubmit(){!this.form.valid||(this.isLoading=!0,this._categoryService.add(this.form.value).then(()=>{this.isLoading=!1,this._location.back()}).catch(()=>this.isLoading=!1))}_initForm(){this.form=this._fb.group({name:new a.NI(null,[a.kI.required])})}}return i.\u0275fac=function(c){return new(c||i)(e.Y36(E.z),e.Y36(t.Ye),e.Y36(a.qu),e.Y36(d.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-category-new"]],decls:13,vars:6,consts:[[1,"dashboard-content-wrap"],[1,"dashboard-content-header-wrap"],[1,"dashboard-content-header-title"],[1,"form-wrap",3,"formGroup","ngSubmit"],[1,"row","g-4"],[1,"col-lg-12"],["formControlName","name","label","Name",3,"isRequired","hasError","errorMessage"],[1,"form-submit-wrap","row","g-4"],[1,"col-lg-12","text-center"],["title","Add",3,"disabled","isLoading"]],template:function(c,f){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4,"Add New Book Category"),e.qZA()()(),e.TgZ(5,"div")(6,"form",3),e.NdJ("ngSubmit",function(){return f.onSubmit()}),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"app-text-form-field",6),e.qZA(),e.TgZ(10,"div",7)(11,"div",8),e._UZ(12,"app-button",9),e.qZA()()()()()()),2&c&&(e.xp6(6),e.Q6J("formGroup",f.form),e.xp6(3),e.Q6J("isRequired",!0)("hasError",f.hasError("name"))("errorMessage",f.getControlError("name")),e.xp6(3),e.Q6J("disabled",!f.form.valid)("isLoading",f.isLoading))},directives:[a._Y,a.JL,a.sg,o.N,a.JJ,a.u,m.r],styles:[""]}),i})()}]}];let Z=(()=>{class i{}return i.\u0275fac=function(c){return new(c||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[t.ez,h.Bz.forChild(A),_.m]]}),i})()},7186:(w,C,l)=>{l.d(C,{B:()=>a});var t=l(6805),_=l(2340),e=l(4893),u=l(520);let a=(()=>{class d{constructor(o){this._http=o,this.baseUrl="",this.baseUrl=_.N.api.baseUrl}get(o,r){return this._http.get(this._getUrl(o),r)}getAsnyc(o,r){const s=this._http.get(this._getUrl(o),r);return this._convertToPromise(s)}post(o,r={},s){return this._http.post(this._getUrl(o),r,s)}postAsync(o,r={},s){const n=this._http.post(this._getUrl(o),r,s);return this._convertToPromise(n)}patch(o,r={},s){return this._http.patch(this._getUrl(o),r,s)}patchAsnyc(o,r={},s){const n=this._http.patch(this._getUrl(o),r,s);return this._convertToPromise(n)}delete(o,r){return this._http.delete(this._getUrl(o),r)}deleteAsync(o,r){const s=this._http.delete(this._getUrl(o),r);return this._convertToPromise(s)}_getUrl(o){return`${this.baseUrl}/${o}`}_convertToPromise(o){return new Promise((r,s)=>{(function h(d,m){const o="object"==typeof m;return new Promise((r,s)=>{let p,n=!1;d.subscribe({next:y=>{p=y,n=!0},error:s,complete:()=>{n?r(p):o?r(m.defaultValue):s(new t.K)}})})})(o).then(n=>{r(n)}).catch(n=>{s(n.message)})})}}return d.\u0275fac=function(o){return new(o||d)(e.LFG(u.eN))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},7844:(w,C,l)=>{l.d(C,{z:()=>h});var t=l(4893);let h=(()=>{class _{constructor(){}hasError(u,a){const d=a.get(u);return!!d&&d.invalid&&d.touched}getControlError(u){if(u){if(!u.invalid||!u.touched)return null;if(u&&u.hasError("required"))return"Field is required";if(u.hasError("email"))return"Email not valid"}return null}}return _.\u0275fac=function(u){return new(u||_)},_.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},5667:(w,C,l)=>{l.d(C,{r:()=>u});var t=l(4893),h=l(9808);function _(a,d){if(1&a&&(t.ynx(0),t._uU(1),t.BQk()),2&a){const m=t.oxw();let o;t.xp6(1),t.hij(" ",null!==(o=m.title)&&void 0!==o?o:"Button"," ")}}function e(a,d){1&a&&(t.ynx(0),t._UZ(1,"i",2),t.BQk())}let u=(()=>{class a{constructor(){this.disabled=!1,this.isLoading=!1,this.type="submit",this.click=new t.vpe}ngOnInit(){}onClick(m){m.stopPropagation(),this.click.emit(m)}}return a.\u0275fac=function(m){return new(m||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-button"]],inputs:{title:"title",disabled:"disabled",isLoading:"isLoading",type:"type"},outputs:{click:"click"},decls:3,vars:4,consts:[[1,"btn","btn-primary",3,"type","disabled","click"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin","fa-lg"]],template:function(m,o){1&m&&(t.TgZ(0,"button",0),t.NdJ("click",function(s){return o.onClick(s)}),t.YNc(1,_,2,1,"ng-container",1),t.YNc(2,e,2,0,"ng-container",1),t.qZA()),2&m&&(t.Q6J("type",o.type)("disabled",o.disabled||o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isLoading))},directives:[h.O5],styles:[""]}),a})()},683:(w,C,l)=>{l.d(C,{n:()=>m});var t=l(4893),h=l(9808);const _=function(o){return{"form-field-require":o}};function e(o,r){if(1&o&&(t.TgZ(0,"label",4),t._uU(1),t.qZA()),2&o){const s=t.oxw();t.Q6J("for",s.idForLabel)("ngClass",t.VKq(3,_,s.isRequired)),t.xp6(1),t.hij(" ",s.label," ")}}function u(o,r){if(1&o&&(t.TgZ(0,"div",5)(1,"span"),t._uU(2),t.qZA()()),2&o){const s=t.oxw();t.xp6(2),t.hij(" ",s.errorMessage," ")}}const a=function(o){return{"error-form-field":o}},d=["*"];let m=(()=>{class o{constructor(){this.hasError=!1,this.idForLabel="",this.isRequired=!1,this.errorMessage=null}ngOnInit(){}}return o.\u0275fac=function(s){return new(s||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form-field-container"]],inputs:{hasError:"hasError",label:"label",idForLabel:"idForLabel",isRequired:"isRequired",errorMessage:"errorMessage"},ngContentSelectors:d,decls:5,vars:5,consts:[[1,"form-field-group-wrap",3,"ngClass"],["class","app-clr-steel",3,"for","ngClass",4,"ngIf"],[1,"form-field-wrap"],["class","form-field-error-message-wrap app-text-small",4,"ngIf"],[1,"app-clr-steel",3,"for","ngClass"],[1,"form-field-error-message-wrap","app-text-small"]],template:function(s,n){1&s&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,e,2,5,"label",1),t.TgZ(2,"div",2),t.Hsn(3),t.qZA(),t.YNc(4,u,3,1,"div",3),t.qZA()),2&s&&(t.Q6J("ngClass",t.VKq(3,a,n.hasError)),t.xp6(1),t.Q6J("ngIf",n.label),t.xp6(3),t.Q6J("ngIf",n.errorMessage))},directives:[h.mk,h.O5],styles:[""]}),o})()},5405:(w,C,l)=>{l.d(C,{N:()=>o});var t=l(4893),h=l(2382),_=l(683),e=l(9808);function u(r,s){if(1&r&&t._UZ(0,"i",4),2&r){const n=t.oxw();t.Q6J("ngClass",n.prefixFontAwesomeIconClass)}}function a(r,s){if(1&r&&t._UZ(0,"i",4),2&r){const n=t.oxw();t.Q6J("ngClass",n.postfixFontAwesomeIconClass)}}const d=function(r,s){return{"show-text-icon":r,"hide-text-icon":s}};function m(r,s){if(1&r){const n=t.EpF();t.TgZ(0,"i",5),t.NdJ("click",function(){return t.CHM(n),t.oxw().togglePassordVisibility()}),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("ngClass",t.WLB(1,d,!n.isShowingPassword,n.isShowingPassword))}}let o=(()=>{class r{constructor(){this.type="text",this.placeholder="",this.isRequired=!1,this.isShowingPasswordPostfix=!1,this.hasError=!1,this.errorMessage=null,this.isDisables=!1,this.value="",this.valueChange=new t.vpe,this.disabled=!1,this.onChange=n=>{},this.onTouched=()=>{},this.isShowingPassword=!1}get idForLabel(){return this.label?`input-${this.label.split(" ").join("_")}`:`input-${this.type}`}get inputDirClass(){if(this.testLang){if("ar"===this.testLang)return"dir-rtl";if("en"===this.testLang)return"dir-ltr"}return"dir-auto"}ngOnInit(){}writeValue(n){this.value=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}togglePassordVisibility(){this.isShowingPassword=!this.isShowingPassword,this.type=this.isShowingPassword?"text":"password"}onValueChange(n){this.onTouched(),this.value=n,this.onChange(n),this.valueChange.emit(this.value)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-text-form-field"]],inputs:{label:"label",type:"type",placeholder:"placeholder",isRequired:"isRequired",prefixFontAwesomeIconClass:"prefixFontAwesomeIconClass",postfixFontAwesomeIconClass:"postfixFontAwesomeIconClass",isShowingPasswordPostfix:"isShowingPasswordPostfix",hasError:"hasError",errorMessage:"errorMessage",testLang:"testLang",isDisables:"isDisables",value:"value"},outputs:{valueChange:"valueChange"},features:[t._Bn([{provide:h.JU,useExisting:(0,t.Gpc)(()=>r),multi:!0}])],decls:5,vars:14,consts:[[3,"label","hasError","idForLabel","isRequired","errorMessage"],[3,"ngClass",4,"ngIf"],[1,"form-field-input",3,"ngClass","type","ngModel","placeholder","id","disabled","ngModelChange"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click"]],template:function(n,p){1&n&&(t.TgZ(0,"app-form-field-container",0),t.YNc(1,u,1,1,"i",1),t.TgZ(2,"input",2),t.NdJ("ngModelChange",function(b){return p.value=b})("ngModelChange",function(b){return p.onValueChange(b)}),t.qZA(),t.YNc(3,a,1,1,"i",1),t.YNc(4,m,1,4,"i",3),t.qZA()),2&n&&(t.Q6J("label",p.label)("hasError",p.hasError)("idForLabel",p.idForLabel)("isRequired",p.isRequired)("errorMessage",p.errorMessage),t.xp6(1),t.Q6J("ngIf",p.prefixFontAwesomeIconClass),t.xp6(1),t.Q6J("ngClass",p.inputDirClass)("type",p.type)("ngModel",p.value)("placeholder",p.placeholder)("id",p.idForLabel)("disabled",p.isDisables),t.xp6(1),t.Q6J("ngIf",p.postfixFontAwesomeIconClass),t.xp6(1),t.Q6J("ngIf",p.isShowingPasswordPostfix))},directives:[_.n,e.O5,e.mk,h.Fj,h.JJ,h.On],styles:[""]}),r})()}}]);